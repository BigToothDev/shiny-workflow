[{"name": "app.py", "content": "from shiny import App, render, ui\nimport pandas as pd\nimport plotly.graph_objects as go\n\ndata_pop_ua_present = {\n    \"Year\": list(range(1990, 2023)),\n    \"Urban\": [34869.2, 35085.2, 35296.9, 35471, 35400.7, 35118.8, 34767.9, 34387.5, 34048.2, 33702.1, 33338.6, 32951.7, 32574.4, 32328.4, 32146.4, 32009.3, 31877.7, 31777.4, 31668.8, 31587.2, 31524.8, 31441.6, 31380.9, 31378.6, 31336.6, 29673.1, 29585, 29482.3, 29371, 29256.7, 29139.3, 28959.6, 28693.7],\n    \"Rural\": [16969.3, 16859.2, 16759.7, 16773.1, 16713.7, 16609.6, 16529.2, 16430.9, 16322.6, 16216, 16091.2, 15971.5, 15882.7, 15675.1, 15476, 15271.5, 15051.8, 14868.6, 14703.9, 14556.5, 14438.1, 14336.9, 14252.7, 14174.4, 14089.6, 13256.2, 13175.5, 13102.2, 13015.4, 12896.5, 12763.1, 12628.8, 12473.6],\n    \"Total\": [51838.5, 51944.4, 52056.6, 52244.1, 52114.4, 51728.4, 51297.1, 50818.4, 50370.8, 49918.1, 49429.8, 48923.2, 48457.1, 48003.5, 47622.4, 47280.8, 46929.5, 46646, 46372.7, 46143.7, 45962.9, 45778.5, 45633.6, 45553, 45426.2, 42929.3, 42760.5, 42584.5, 42386.4, 42153.2, 41902.4, 41588.4, 41167.3]\n}\ndf_present_pop = pd.DataFrame(data_pop_ua_present)\n\napp_ui = ui.page_fluid(\n    ui.panel_title(\"UKRSTAT - Data Visualisation\"),\n    ui.page_navbar(\n        ui.nav_panel(\"Ukraine population: Present\", \n            ui.input_selectize(  \n                \"selectize\",  \n                \"Select an option below:\",  \n                {\"Urban\": \"Urban Population\", \"Rural\": \"Rural Population\", \"Total\": \"Total Population\"},  \n                selected=\"Urban\"\n            ),  \n            ui.output_ui(\"present_pop_plot\"),\n        ),\n        id=\"tab\",\n    )\n)\n\ndef server(input, output, session):\n    @output\n    @render.ui\n    def present_pop_plot():\n        population_type = input.selectize()\n        y = df_present_pop[population_type] * 1000\n        x = df_present_pop[\"Year\"]\n\n        fig = go.Figure()\n\n        fig.add_trace(go.Scatter(\n            x=x, \n            y=y, \n            mode='lines+markers',\n            name=f'{population_type} Population',\n            line=dict(color=\"#008000\"),\n            marker=dict(color='#008000', size=10),\n            hovertemplate=\"<b>Year:</b> %{x}<br><b>Population:</b> %{y:,.0f}<extra></extra>\"\n        ))\n\n        fig.update_layout(\n            title=f\"{population_type} Population Over Time\",\n            xaxis_title=\"Year\",\n            yaxis_title=f\"{population_type} Population (in thousands)\",\n            xaxis=dict(tickmode='linear', dtick=2), \n            hovermode='x unified'\n        )\n        return ui.HTML(fig.to_html(full_html=False))\n    \napp = App(app_ui, server)", "type": "text"}]